global:
  resolve_timeout: 5m

route:
  receiver: "default"
  routes:
    - receiver: "telegram"
      matchers:
        - severity="critical"
    - receiver: "email"
      matchers:
        - severity="high"

receivers:
  - name: "default"
    webhook_configs: []

  - name: "telegram"
    telegram_configs:
      - bot_token: "${TELEGRAM_BOT_TOKEN}"
        chat_id: "${TELEGRAM_CHAT_ID}"
        parse_mode: "Markdown"
        message: |
          ðŸš¨ *Alerta GERPED* ðŸš¨
          *Alerta:* {{ .CommonAnnotations.summary }}
          *Severidade:* {{ .CommonLabels.severity }}
          *DescriÃ§Ã£o:* {{ .CommonAnnotations.description }}
          *Fonte:* {{ .ExternalURL }}

  - name: "email"
    email_configs:
      - to: "${EMAIL_TO}"
        from: "${EMAIL_FROM}"
        smarthost: "${EMAIL_SMTP_HOST}:${EMAIL_SMTP_PORT}"
        auth_username: "${EMAIL_USERNAME}"
        auth_password: "${EMAIL_PASSWORD}"
        require_tls: true

templates: []
